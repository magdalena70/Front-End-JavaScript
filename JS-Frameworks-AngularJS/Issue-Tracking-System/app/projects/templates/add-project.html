<!--add project page-->
<!--error message-->
<div class="row text-center" ng-if="!isAdmin()" ng-include="'app/common/partial/admin-warning-msg.html'"></div>
<!--end error message-->
<!--add project form-->
<div ng-if="isAdmin()" class="row">
	<div class="col-md-6 col-md-offset-3">
		<h2>Add New Project</h2>
		<form name="addProjectForm">
			<div class="form-group">
				<label for="name">Project Name<span class="red">*</span></label>
				<input type="text" ng-model="project.Name" 
					id="name" 
					name="projectName"
					required="required"
					ng-minlength="3"
					ng-maxlength="50"
					placeholder="[Min-length: 3] [Max-length: 50]"
					class="form-control"/>
				<p class="red" ng-show="addProjectForm.projectName.$error.required">
					<small><i class="fa fa-exclamation-triangle"></i> Project Name is required!</small>
				</p>
				<div role="alert">
					<span class="red" ng-show="addProjectForm.projectName.$error.minlength">
						<small>[Min-length: 3 simbols]</small>
					</span>
					<span class="error" ng-show="addProjectForm.projectName.$error.maxlength">
						<small>[Max-length: 50 simbols]</small>
					</span>
				</div>
			</div>
			<div class="form-group">
				<label for="project-key">Project Key<span class="red">*</span></label>
				<input type="text" ng-model="project.ProjectKey" 
					id="project-key"
					name="projectKey"
					required="required"
					ng-minlength="1"
					ng-maxlength="100"
					placeholder="[Min-length: 1] [Max-length: 100]"
					class="form-control"/>
				<p class="red" ng-show="addProjectForm.projectKey.$error.required">
					<small><i class="fa fa-exclamation-triangle"></i> Project Key is required!</small>
				</p>
				<div role="alert">
					<span class="red" ng-show="addProjectForm.projectKey.$error.minlength">
						<small>[Min-length: 1 simbols]</small>
					</span>
					<span class="error" ng-show="addProjectForm.projectKey.$error.maxlength">
						<small>[Max-length: 100 simbols]</small>
					</span>
				</div>
			</div>
			<!--get users to make a Leader-->
			<div class="form-group">
				<h3>Add Leader:</h3>
				<label for="searchToAddLeader">Search user by filter: "Username"<span class="red">*</span>:</label>
				<div class="inner-addon left-addon">
					<i class="fa fa-search" aria-hidden="true"></i>
					<input type="text" ng-model="user.Username" id="searchToAddLeader" name="searchToAddLeader" class="form-control">
				</div>
			</div>
			<div class="col-md-12">
				<button class="btn btn-success" 
					ng-disabled="addProjectForm.searchToAddLeader==false" 
					ng-click="getAllUsers()">
					Get Users By Filter
				</button>
			</div>
			<div class="form-group">
				<label for="leader">Select Leader<span class="red">*</span></label>
				<p>Search user by Username:</p>
				<div class="inner-addon left-addon">
					<i class="fa fa-search" aria-hidden="true"></i>
					<select ng-model="project.LeadId" 
						id="newLeader" 
						name="newLeadId" 
						required="required" 
						class="form-control">
							<option  ng-repeat="user in users | orderBy: 'Username' | filter: user.Username"
								value="{{user.Id}}">{{user.Username}}
							</option>
					</select>
				</div>
				<p class="red" ng-show="addProjectForm.newLeadId.$error.required">
					<small><i class="fa fa-exclamation-triangle"></i> Leader is required!</small>
				</p>
			</div>
			<!--end-->
			<div class="form-group">
				<label for="description">Description<span class="red">*</span></label>
				<textarea type="text" ng-model="project.Description" rows="5"
					id="description"
					name="description"
					required="required"
					ng-minlength="3"
					ng-maxlength="1000"
					placeholder="[Min-length: 3] [Max-length: 100]"
					class="form-control"></textarea>
				<p class="red" ng-show="addProjectForm.description.$error.required">
					<small><i class="fa fa-exclamation-triangle"></i> Description is required!</small>
				</p>
				<div role="alert">
					<span class="red" ng-show="addProjectForm.description.$error.minlength">
						<small>[Min-length: 3 simbols]</small>
					</span>
					<span class="error" ng-show="addProjectForm.description.$error.maxlength">
						<small>[Max-length: 1000 simbols]</small>
					</span>
				</div>
			</div>
			<div class="form-group">
				<label for="priorities">Priorities <span class="red">*</span></label>
				<p>Add priorities separated by a dot-comma and an white-space :</p>
				<p class="red">[priority1; priority2; ...]</p>
				<input type="text" ng-model="project.Priorities" 
					id="priorities "
					name="priorities"
					required="required"
					ng-minlength="3"
					ng-maxlength="100"
					placeholder="[Min-length: 3] [Max-length: 100]"
					class="form-control"/>
				<p class="red" ng-show="addProjectForm.priorities.$error.required">
					<small><i class="fa fa-exclamation-triangle"></i> Priorities is required!</small>
				</p>
				<div role="alert">
					<span class="red" ng-show="addProjectForm.priorities.$error.minlength">
						<small>[Min-length: 3 simbols]</small>
					</span>
					<span class="error" ng-show="addProjectForm.priorities.$error.maxlength">
						<small>[Max-length: 100 simbols]</small>
					</span>
				</div>
			</div>
			<!--Labels-->
			<div class="form-group">
				<h3>Labels</h3>
				<label for="addLabels">Select Labels</label>
				<p>You can select more than one label by holding key [Ctrl] and mark the selected labels</p>
				<div class="inner-addon left-addon">
					<i class="fa fa-tags" aria-hidden="true"></i>
					<select multiple ng-model="project.Labels" 
						ng-options="label as label.Name for label in labels | orderBy: 'Name'"
						name="addLabels"
						id="addLabels"
						class="form-control"></select>
					<p class="red">{{project.Labels | json}}</p>
				</div>
			</div>
			<!--end labels-->
			<button type="submit" class="btn btn-success" 
				ng-disabled="addProjectForm.$invalid" 
				ng-click="addProject(project)">
					Add New Project
			</button>
		</form>
	</div>
</div>